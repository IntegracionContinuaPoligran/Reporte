<!-- Card Components -->
<div class="header bg-gradient-danger pb-8 pt-5 pt-md-6">
    <div class="container-fluid">
    </div>
</div>

<!-- Page content -->
<div class="container-fluid mt--7 animated fadeIn fast">
    <!-- Table -->
    <div class="row">
        <div class="col">
            <div class="card shadow">
                <div class="card-header bg-transparent">
                    <div class="row align-items-center">
                        <div class="col-8">
                            <h3 class="mb-0">{{titulopagina1}}</h3>
                        </div>
                        <div class="col-4 text-right">                           
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <ngb-tabset [destroyOnHide]="false">
                        <ngb-tab title="AprobaciÃ³n de Registros">
                          <ng-template ngbTabContent>
                            <div class="card-body">
                                <di class="row">
                                    <div class="col-xl-4 col-lg-6">
                                        <div class="card card-stats mb-4 mb-xl-0">
                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col">
                                                        <h5 class="card-title text-uppercase text-muted mb-0">{{pendienteAutomaticos}}</h5>
                                                        <span class="h2 font-weight-bold mb-0">{{horasAutomaticas}}</span>
                                                    </div>
                                                    <div class="col-auto">
                                                        <div class="icon icon-shape bg-danger text-white rounded-circle shadow">
                                                            <i class="ni ni-compass-04"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                                <p class="mt-3 mb-0 text-muted text-sm">                                                    
                                                    <span class="text-nowrap"><button type="button" class="btn btn-outline-primary btn-sm" (click)="generarHoras(modalConfirmacion,1)">Generar Horas</button></span>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                   <div class="col-xl-4 col-lg-6">
                                        <div class="card card-stats mb-4 mb-xl-0">
                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col">
                                                        <h5 class="card-title text-uppercase text-muted mb-0">{{pendienteRegistrar}}</h5>
                                                        <span class="h2 font-weight-bold mb-0">{{horasRegistrar}}</span>
                                                    </div>
                                                    <div class="col-auto">
                                                        <div class="icon icon-shape bg-danger text-white rounded-circle shadow">
                                                            <i class="ni ni-compass-04"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                                <p class="mt-3 mb-0 text-muted text-sm">                                                    
                                                    <span class="text-nowrap"><button type="button" class="btn btn-outline-primary btn-sm" (click)="generarHoras(modalConfirmacion,2)">Generar Horas</button></span>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xl-4 col-lg-6">
                                        <div class="card card-stats mb-4 mb-xl-0">
                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col">
                                                        <h5 class="card-title text-uppercase text-muted mb-0">{{pendienteCalificar}}</h5>
                                                        <span class="h2 font-weight-bold mb-0"> {{horasCalificar}}</span>
                                                    </div>
                                                    <div class="col-auto">
                                                        <div class="icon icon-shape bg-danger text-white rounded-circle shadow">
                                                            <i class="ni ni-compass-04"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                                <p class="mt-3 mb-0 text-muted text-sm">                                                    
                                                    <span class="text-nowrap"><button type="button" class="btn btn-outline-primary btn-sm" (click)="generarHoras(modalConfirmacion,3)">Generar Horas</button></span>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </di>
                            </div>
                            
                          </ng-template>
                        </ngb-tab>
                        <ngb-tab title="Registro Horas">                          
                          <ng-template ngbTabContent>  
                            <div class="card-body">                         
                            <form [formGroup]="formGroup">
                                <div class="row">
                                  <div class="col-lg-3">
                                    <div class="form-group mb-3">
                                        <label class="form-control-label" for="input-username">Maximo Horas Diarias</label>
                                      <div class="input-group input-group-alternative">
                                          <div class="input-group-prepend">
                                              <span class="input-group-text"><i class="ni ni-app"></i></span>
                                          </div>
                                          <input class="form-control"
                                           placeholder="# Horas"
                                           type="number"
                                           name="horasDiarias"
                                           formControlName="horasDiarias">                                 
                                      </div>                      
                                      <small class="control-error" >{{ getErrorRH('horasDiarias')}}</small>
                                  </div>          
                                  </div>
                                  <div class="col-lg-3">
                                    <div class="form-group">
                                      <label class="form-control-label" for="input-username"> Fecha disponibe inicio</label>
                                      <div class="input-group">
                                        <input class="form-control"
                                         placeholder="yyyy-mm-dd"                
                                          ngbDatepicker #fi="ngbDatepicker"
                                          name="fechaDisponibleInicio"
                                          formControlName="fechaDisponibleInicio">
                                        <div class="input-group-append">
                                          <button class="btn btn-outline-secondary" (click)="fi.toggle()" type="button"  style="color: #8898aa; border: 1px solid #cad1d7;">
                                            <i class="ni ni-calendar-grid-58"></i>
                                          </button>
                                        </div>
                                      </div>
                                      <small class="control-error" >{{ getErrorRH('fechaDisponibleInicio')}}</small>
                                    </div>                                                   
                                  </div>                          
                                  <div class="col-lg-3">
                                    <div class="form-group">
                                        <label class="form-control-label" for="input-username">Fecha disponible fin</label>
                                        <div class="input-group">
                                          <input class="form-control"
                                           placeholder="yyyy-mm-dd"                
                                            ngbDatepicker #fF="ngbDatepicker"
                                            name="fechaDisponibleFin"
                                            formControlName="fechaDisponibleFin">
                                          <div class="input-group-append">
                                            <button class="btn btn-outline-secondary" (click)="fF.toggle()" type="button"  style="color: #8898aa; border: 1px solid #cad1d7;">
                                              <i class="ni ni-calendar-grid-58"></i>
                                            </button>
                                          </div>
                                        </div>
                                        <small class="control-error" >{{ getErrorRH('fechaDisponibleFin')}}</small>
                                      </div>               
                                  </div>
                                  <div class="col-lg-3">
                                    <div class="form-group mb-3">  
                                        <label class="form-control-label" for="input-username">Frecuencia Reporte</label>                  
                                        <div class="input-group input-group-alternative">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text"><i class="ni ni-collection"></i></span>
                                            </div>
                                            <select class="form-control"
                                              name="frecuenciaCorte"
                                              formControlName="frecuenciaCorte"
                                              disabled="disabled">
                                              <option value="1">Mensual</option>                                     
                                            </select>                               
                                        </div>            
                                        <small class="control-error" >{{ getErrorRH('frecuenciaCorte')}}</small>
                                    </div>
                                  </div>                          
                                </div>
                                <div class="row">
                                    <div class="col-lg-3">
                                        <div class="form-group mb-3">
                                            <label class="form-control-label" for="input-username">Dia inicio de corte</label>
                                          <div class="input-group input-group-alternative">
                                              <div class="input-group-prepend">
                                                  <span class="input-group-text"><i class="ni ni-watch-time"></i></span>
                                              </div>
                                              <input class="form-control"
                                               placeholder="Dia Corte Inicio"
                                               type="number"
                                               name="diaInicioCorte"
                                               formControlName="diaInicioCorte">                                 
                                          </div>                      
                                          <small class="control-error">{{ getErrorRH('diaInicioCorte')}}</small>
                                      </div>          
                                      </div>
                                      <div class="col-lg-3">
                                        <div class="form-group mb-3">
                                            <label class="form-control-label" for="input-username">Dia fin de Corte</label>
                                          <div class="input-group input-group-alternative">
                                              <div class="input-group-prepend">
                                                  <span class="input-group-text"><i class="ni ni-watch-time"></i></span>
                                              </div>
                                              <input class="form-control"
                                               placeholder="Diacorte fin"                                       type="number"
                                               name="diaFinCorte"
                                               formControlName="diaFinCorte">                                 
                                          </div>                      
                                          <small class="control-error">{{ getErrorRH('diaFinCorte')}}</small>
                                      </div>          
                                      </div>
                                </div>
                                <div class="row align-items-center">
                                    <div class="col-8">                               
                                    </div>
                                    <div class="col-4 text-right">                                
                                        <button class="btn btn-sm btn-primary" (click)="actualizarparametrosRH()" [disabled]="formGroup.invalid">Guardar</button>
                                    </div>
                                </div>                                
                            </form>
                            <div class="alert alert-danger" *ngIf="ErrorRH" role="alert" style="margin-top: 1%;">
                                {{msmErrorRH}}
                            </div>                            
                            </div> 
                          </ng-template>
                        </ngb-tab>
                        <ngb-tab title="Correo Electronico">
                          <ng-template ngbTabContent>
                            <div class="card-body">
                            <form [formGroup]="formGroupCorreo">                                                           
                                <div class="row">
                                  <div class="col-lg-6">
                                    <div class="form-group mb-3">
                                        <label class="form-control-label" for="input-username">Servidor</label>
                                      <div class="input-group input-group-alternative">
                                          <div class="input-group-prepend">
                                              <span class="input-group-text"><i class="ni ni-app"></i></span>
                                          </div>
                                          <input class="form-control"
                                           placeholder="URL...."
                                           type="text"
                                           name="Servidor"
                                           formControlName="Servidor">                                 
                                      </div>                      
                                      <small class="control-error" >{{ getErrorCorreo('Servidor')}}</small>
                                  </div>          
                                  </div>
                                  <div class="col-lg-6">
                                    <div class="form-group mb-3">
                                        <label class="form-control-label" for="input-username">Correo</label>
                                      <div class="input-group input-group-alternative">
                                          <div class="input-group-prepend">
                                              <span class="input-group-text"><i class="ni ni-app"></i></span>
                                          </div>
                                          <input class="form-control"
                                           placeholder="loremlorem@lorem.com"
                                           type="email"
                                           name="correo"
                                           formControlName="correo">                                 
                                      </div>                      
                                      <small class="control-error" >{{ getErrorCorreo('correo')}}</small>
                                  </div>                                                   
                                  </div>                  
                                </div>
                                <div class="row">
                                    <div class="col-lg-3">
                                        <div class="form-group mb-3">
                                            <label class="form-control-label" for="input-username">Puerto</label>
                                          <div class="input-group input-group-alternative">
                                              <div class="input-group-prepend">
                                                  <span class="input-group-text"><i class="ni ni-app"></i></span>
                                              </div>
                                              <input class="form-control"
                                               placeholder="##"
                                               type="number"
                                               name="puerto"
                                               formControlName="puerto">                                 
                                          </div>                      
                                          <small class="control-error" >{{ getErrorCorreo('puerto')}}</small>
                                      </div>                                                   
                                      </div>
                                      <div class="col-lg-5">
                                        <div class="form-group mb-3">
                                            <label class="form-control-label" for="input-username">Usuario</label>
                                          <div class="input-group input-group-alternative">
                                              <div class="input-group-prepend">
                                                  <span class="input-group-text"><i class="ni ni-app"></i></span>
                                              </div>
                                              <input class="form-control"
                                               placeholder="usuario correo"
                                               type="text"
                                               name="usuario"
                                               formControlName="usuario">                                 
                                          </div>                      
                                          <small class="control-error" >{{ getErrorCorreo('usuario')}}</small>
                                      </div>                                                   
                                      </div>
                                      <div class="col-lg-4">
                                        <div class="form-group mb-3">
                                            <label class="form-control-label" for="input-username">Clave</label>
                                          <div class="input-group input-group-alternative">
                                              <div class="input-group-prepend">
                                                  <span class="input-group-text"><i class="ni ni-app"></i></span>
                                              </div>
                                              <input class="form-control"
                                               placeholder="******************"
                                               type="password"
                                               name="clave"
                                               formControlName="clave">                                 
                                          </div>                      
                                          <small class="control-error" >{{ getErrorCorreo('clave')}}</small>
                                      </div>                                                   
                                      </div>                           
                                </div>
                                <div class="row align-items-center">
                                    <div class="col-8">                               
                                    </div>
                                    <div class="col-4 text-right">
                                        <button class="btn btn-sm btn-primary" [disabled]="formGroupCorreo.invalid" (click)="actualizarparametrosCorreo()">Guardar</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                          </ng-template>
                        </ngb-tab>
                      </ngb-tabset>                                       
                </div>
           
               
            </div>
        </div>
    </div>
</div>

<!-- Modal -->
<ng-template #modalConfirmacion let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">{{tituloModal}}</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
        <p><strong>{{mensajeModal}}</strong></p>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-danger" (click)="modal.close()">Cerrar</button>
      <button type="button" class="btn btn-outline-dark" (click)="confirmacionGenerarHoras()">Eliminar</button>
    </div>
</ng-template>

