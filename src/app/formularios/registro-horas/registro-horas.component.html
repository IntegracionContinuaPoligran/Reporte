<div class="modal-header">
    <h4 class="modal-title">{{ titulo }}</h4>
    <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss()">
        <span aria-hidden="true">&times;</span>
    </button>
</div>

<div class="modal-body">
    <div class="card-body">
        <form [formGroup]="formGroup">
            <div class="row">
                <div class="col-lg-8">
                    <div class="form-group mb-3">  
                        <label class="form-control-label" for="input-username">Proyecto</label>                               
                       <div class="input-group input-group-alternative">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="ni ni-archive-2"></i></span>
                            </div>
                            <input 
                                id="searchRV"
                                type="text" 
                                class="form-control"                              
                                placeholder="Ingrese el proyecto al cual desee reportar horas" 
                                name="search"
                                formControlName="proyecto"                                                                                                                 
                                [ngbTypeahead]="search"                                
                                />
                        </div>
                         <small class="control-error">{{ getError('proyecto')}}</small> 
                    </div>                    
                </div>
                <div class="col-lg-4">
                    <ngb-timepicker
                    name="horas"
                    formControlName="horas">
                </ngb-timepicker>
                <small class="control-error">{{ getError('horas')}}</small>   
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4">
                    <div class="form-group">
                        <label class="form-control-label" for="input-username">Fecha Registro</label>     
                        <div class="input-group">
                            <input 
                                class="form-control"
                                placeholder="yyyy-mm-dd"
                                ngbDatepicker #fi="ngbDatepicker"
                                name="fechaReporte"
                                formControlName="fechaReporte">
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary"
                                    (click)="fi.toggle()" 
                                     type="button"
                                    style="color: #8898aa; border: 1px solid #cad1d7;">
                                    <i class="ni ni-calendar-grid-58"></i>
                                </button>
                            </div>
                        </div>
                        <small class="control-error">{{ getError('fechaReporte')}}</small>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-group mb-3">  
                        <label class="form-control-label" for="input-username">Fase</label>                    
                        <div class="input-group input-group-alternative">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="ni ni-box-2"></i></span>
                            </div>
                            <select class="form-control"
                              name="fase"
                              formControlName="fase">
                              <option value="0">Seleccione</option>
                              <option 
                                [value]=item.idFase 
                                *ngFor="let item of fases">
                                {{item.nombreFase}}
                              </option>
                            </select>                               
                        </div>            
                        <small class="control-error" >{{ getError('fase')}}</small>
                    </div>  
                </div>
                <div class="col-lg-4">
                    <div class="form-group mb-3">
                        <label class="form-control-label" for="input-username">Solicitud</label>                    
                        <div class="input-group input-group-alternative">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="ni ni-bag-17"></i></span>
                            </div>
                            <input class="form-control"
                             placeholder="Solicitud"
                             type="text"
                             name="solcitud"
                             formControlName="solcitud">                                 
                        </div>            
                        <small class="control-error" >{{ getError('solcitud')}}</small>
                    </div>  
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="input-group">
                        <textarea 
                            class="form-control" 
                            name="actividad"
                            formControlName="actividad"
                            placeholder="Escriba la actividad"
                            rows="3">
                        </textarea>                        
                      </div>
                      <small class="control-error" >{{ getError('actividad')}}</small>
                </div>               
            </div>
            <div class="row">               
                <div *ngIf="alerta" class="alert alert-danger" role="alert" style="margin-top: 2%; width: 100%;">
                    {{mensajeAlerta}}          
                </div>
            </div>
        </form>        
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-dark" (click)="activeModal.close()">Cerrar</button>
        <button type="button" class="btn btn-primary my-4" (click)="guardar()" [disabled]="formGroup.invalid">Guardar</button>
    </div>
